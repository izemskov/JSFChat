<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html">
    <p:tab title="Game Log">
        <h:form>
            <p:poll interval="2" update="chatMessagesBlock"/>

            <h:panelGroup layout="block" id="chatMessagesBlock">
                <ui:repeat value="#{gameBean.chatMessages}" var="chatMessage">
                    <p:fieldset width="220" legend="#{chatMessage.header}" style="margin-bottom: 10px;">
                        <p class="m-0" style=" font-size: 10px;">
                            #{chatMessage.message}
                        </p>
                    </p:fieldset>
                </ui:repeat>
            </h:panelGroup>

            <h:panelGroup layout="block" rendered="#{false}">
                <table cellpadding="0" cellspacing="0" border="0">
                    <tbody>
                    <tr>
                        <td>
                            <p:inputText id="textMessage" value="#{gameBean.chatMessage}"/>
                        </td>
                        <td style="padding-left: 5px;">
                            <p:commandButton actionListener="#{gameBean.sendChatMessage()}" icon="pi pi-send" />
                        </td>
                    </tr>
                    </tbody>
                </table>
            </h:panelGroup>
        </h:form>
    </p:tab>
</ui:composition>